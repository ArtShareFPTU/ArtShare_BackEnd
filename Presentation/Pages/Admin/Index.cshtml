@page
@model Presentation.Pages.Admin.IndexModel
@{
    ViewData["Title"] = "Index";
    Layout = "~/Pages/Shared/_LayoutAdmin.cshtml";
}

<div class="container-fluid px-4">
    <!-- section searchForMobile -->
    <div class="row my-4 sm-my-3 sm-mt-0" id="searchForMobile">
        <div class="col">
            <form>
                <div class="input-group">
                    <input type="text"
                           class="form-control form-control-dark text-bg-dark text-white"
                           value="search here" />
                    <a class="btn" href="search-results/index.html">
                        <i class="bi bi-search"></i>
                    </a>
                </div>
            </form>
        </div>
    </div>
    <!-- section searchForMobile ends -->
    <!-- main_content -->
    <!-- page title -->
    <div class="pageTitle pt-3 pb-3 md-pt-0">
        <h3 class="md-mb-0">Dashboard</h3>
        <div class="btn-toolbar mb-2">
            <div class="btn-group me-2">
                <button id="generateReport"
                        type="button"
                        class="btn btn-sm btn-outline-secondary"
                        data-bs-toggle="modal"
                        data-bs-target="#modalGenerateReport">
                    Report
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary">
                    Export
                </button>
            </div>
            <button type="button"
                    class="btn btn-sm btn-outline-secondary dropdown-toggle"
                    data-bs-toggle="dropdown"
                    aria-expanded="false">
                <span data-feather="calendar"></span>
                More options
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li>
                    <a class="dropdown-item" href="index.html#">
                        <small>
                            <i class="bi bi-1-square me-2"></i>
                            Option one
                        </small>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="index.html#">
                        <small>
                            <i class="bi bi-2-square me-2"></i>
                            Option two
                        </small>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <!-- page title ends -->
    <!-- row for cardQuickInfo -->
    <div class="row mt-4 sm-mt-3" id="sectionDashboardQuickInfo">
        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 sm-mb-3">
            <div class="card cardQuickInfo">
                <div class="card-body">
                    <div>
                        <h3>$ 200K</h3>
                        <p>Total earnings</p>
                    </div>
                    <div>
                        <i class="bi bi-currency-dollar"></i>
                    </div>
                </div>
                <div class="card-footer text-center">
                    <a href="sales/index.html">
                        Read more <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 sm-mb-3">
            <div class="card cardQuickInfo">
                <div class="card-body">
                    <div>
                        <h3>@Model.Accounts.Count() Users</h3>
                        <p>New users registration</p>
                    </div>
                    <div>
                        <i class="bi bi-person-fill-add"></i>
                    </div>
                </div>
                <div class="card-footer text-center">
                    <a asp-page="Accounts">
                        Read more <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 sm-mb-3">
            <div class="card cardQuickInfo">
                <div class="card-body">
                    <div>
                        <h3>@Model.artworks.Count() Artworks</h3>
                        <p>Total Artworks</p>
                    </div>
                    <div>
                        <i class="bi bi-image"></i>
                    </div>
                </div>
                <div class="card-footer text-center">
                    <a asp-page="ManageArtwork">
                        Read more <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>
        </div>

        

        @*<div class="col-xs-12 col-sm-12 col-md-6 col-lg-3 col-xl-3 sm-mb-3">
            <div class="card cardQuickInfo">
                <div class="card-body">
                    <div>
                        <h3>$ 10.5k</h3>
                        <p>Yearly expense report</p>
                    </div>
                    <div>
                        <i class="bi bi-receipt"></i>
                    </div>
                </div>
                <div class="card-footer text-center">
                    <a href="expenses/index.html">
                        Read more <i class="bi bi-arrow-right-circle"></i>
                    </a>
                </div>
            </div>
        </div>*@
    </div>
    <!-- row for cardQuickInfo ends -->

    <div class="row mt-4 sm-mt-0">
        <div class="col-lg-8">
            <!-- purhcase_sales_history -->
            <div class="card sm-mb-3">
                <div class="card-body">
                    <h6 class="card-title">Purchase & Sales History</h6>
                    <canvas id="lineChartExampleOne"
                            style="height: 350px; width: 100%"></canvas>
                </div>
            </div>
            <!-- purhcase_sales_history ends -->
            <!-- internal_projects -->
            <div class="card mt-4 sm-mt-0">
                <div class="card-header py-3">
                    <h6 class="m-0">Internal Projects</h6>
                </div>
                <div class="card-body">
                    <p class="small d-flex justify-content-between">
                        Social Media Marketing <span class="float-right">80%</span>
                    </p>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-success"
                             role="progressbar"
                             style="width: 80%"></div>
                    </div>

                    <p class="small d-flex justify-content-between">
                        AWS migration <span class="float-right">20%</span>
                    </p>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-danger"
                             role="progressbar"
                             style="width: 20%"></div>
                    </div>

                    <p class="small d-flex justify-content-between">
                        Payment Gateway Asia <span class="float-right">60%</span>
                    </p>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-warning"
                             role="progressbar"
                             style="width: 60%"></div>
                    </div>

                    <p class="small d-flex justify-content-between">
                        DE Warehouse Setup <span class="float-right">90%</span>
                    </p>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-success"
                             role="progressbar"
                             style="width: 90%"></div>
                    </div>

                    <p class="small d-flex justify-content-between">
                        SAP-ERP System <span class="float-right">5%</span>
                    </p>
                    <div class="progress mb-4">
                        <div class="progress-bar bg-danger"
                             role="progressbar"
                             style="width: 5%"></div>
                    </div>
                </div>
            </div>
            <!-- internal_projects ends -->
            <!-- user_demographics -->
            <div class="card mt-4 sm-mt-3">
                <div class="card-header py-3">
                    <h6 class="m-0">User Demographics</h6>
                </div>
                <div class="card-body p-0">
                    <div id="world-map" style="width: 100%; height: 400px"></div>
                </div>
            </div>
            <!-- user_demographics ends -->
        </div>

        <div class="col-lg-4 col-sm-12 col-xs-12">
            <!-- visitors' browser -->
            <div class="card sm-mt-3">
                <div class="card-body">
                    <h6 class="card-title">Visitors' Browser</h6>
                    <div class="d-flex justify-content-center">
                        <canvas id="visitorBrowser"
                                style="height: 300; width: 300"></canvas>
                    </div>
                    <!-- table  -->
                    <table class="table table-responsive mt-4">
                        <tr>
                            <td>
                                <i class="bi bi-circle-fill bg-dark me-2"
                                   style="color: #dc3545"></i>
                                Safari
                            </td>
                            <td>10%</td>
                        </tr>

                        <tr>
                            <td>
                                <i class="bi bi-circle-fill bg-dark me-2"
                                   style="color: #ffda6a"></i>
                                Chrome
                            </td>
                            <td>21%</td>
                        </tr>

                        <tr>
                            <td>
                                <i class="bi bi-circle-fill bg-dark me-2"
                                   style="color: #20c997"></i>
                                IE
                            </td>
                            <td>19%</td>
                        </tr>

                        <tr>
                            <td>
                                <i class="bi bi-circle-fill bg-dark me-2"
                                   style="color: #6f42c1"></i>
                                Opera
                            </td>
                            <td>5%</td>
                        </tr>

                        <tr>
                            <td>
                                <i class="bi bi-circle-fill bg-dark me-2"
                                   style="color: #fd7e14"></i>
                                Firefox
                            </td>
                            <td>42%</td>
                        </tr>

                        <tr>
                            <td>
                                <i class="bi bi-circle-fill bg-dark me-2"
                                   style="color: #6610f2"></i>
                                Others
                            </td>
                            <td>3%</td>
                        </tr>
                    </table>
                </div>
            </div>
            <!-- visitors' browser ends -->
            <!-- recently added products -->

            <div class="card mt-4 sm-mt-3">
                <div class="card-body">
                    <h6 class="card-title">Recently added products</h6>

                    <div class="media">
                        <img src="static/img/products/P001.png"
                             height="50px"
                             width="50px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Smartphone X
                                <span>$149.99</span>
                            </h6>
                            <p>High-performance smartphone.</p>
                        </div>
                    </div>

                    <div class="media">
                        <img src="static/img/products/P005.png"
                             height="50px"
                             width="50px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Digital Camera
                                <span>$79.99</span>
                            </h6>
                            <p>
                                Capture moments with high-resolution digital imaging.
                            </p>
                        </div>
                    </div>

                    <div class="media">
                        <img src="static/img/products/P003.png"
                             height="50px"
                             width="50px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Fitness Tracker
                                <span>$1599.99</span>
                            </h6>
                            <p>Track your fitness activities.</p>
                        </div>
                    </div>

                    <div class="media">
                        <img src="static/img/products/P009.png"
                             height="50px"
                             width="50px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Smart Light Bulbs
                                <span>$49.99</span>
                            </h6>
                            <p>Adjustable lighting with smart connectivity.</p>
                        </div>
                    </div>

                    <div class="media">
                        <img src="static/img/products/P002.png"
                             height="50px"
                             width="50px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Laptop Pro
                                <span>$129.99</span>
                            </h6>
                            <p>Powerful laptop for professional use.</p>
                        </div>
                    </div>

                    <div class="media">
                        <img src="static/img/products/P004.png"
                             height="50px"
                             width="50px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Wireless Headphones
                                <span>$199.99</span>
                            </h6>
                            <p>With immersive audio experience.</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- recently added products ends -->
        </div>
    </div>

    <!-- For messenger, and order status -->
    <div class="row">
        <div class="col-lg-3">
            <div class="card mt-4 sm-mt-3">
                <div class="card-body">
                    <h6 class="card-title d-flex justify-content-between align-items-center">
                        Messages
                        <small>
                            <a href="messenger/index.html" class="amj-a">Read all</a>
                        </small>
                    </h6>

                    <div class="media py-2 my-2">
                        <img src="static/img/profile/profile-1.jpg"
                             class="rounded-circle me-3"
                             height="45px"
                             width="45px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                John Doe
                                <span>Jan. 1, 2024</span>
                            </h6>
                            <p>Hello, how are you doing today?</p>
                        </div>
                    </div>
                    <div class="divider"></div>

                    <div class="media py-2 my-2">
                        <img src="static/img/profile/profile-2.jpg"
                             class="rounded-circle me-3"
                             height="45px"
                             width="45px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Alice Smith
                                <span>Feb. 15, 2024</span>
                            </h6>
                            <p>Sending a quick update on our project.</p>
                        </div>
                    </div>
                    <div class="divider"></div>

                    <div class="media py-2 my-2">
                        <img src="static/img/profile/profile-3.jpg"
                             class="rounded-circle me-3"
                             height="45px"
                             width="45px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Bob Johnson
                                <span>Mar. 10, 2024</span>
                            </h6>
                            <p>Friendly reminder about our upcoming meeting.</p>
                        </div>
                    </div>
                    <div class="divider"></div>

                    <div class="media py-2 my-2">
                        <img src="static/img/profile/profile-4.jpg"
                             class="rounded-circle me-3"
                             height="45px"
                             width="45px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Eva Williams
                                <span>Apr. 5, 2024</span>
                            </h6>
                            <p>Wishing you a fantastic and joyful birthday!</p>
                        </div>
                    </div>
                    <div class="divider"></div>

                    <div class="media py-2 my-2">
                        <img src="static/img/profile/profile-5.jpg"
                             class="rounded-circle me-3"
                             height="45px"
                             width="45px"
                             alt="" />
                        <div class="media-body">
                            <h6 class="mt-0">
                                Jane Doe
                                <span>May 20, 2024</span>
                            </h6>
                            <p>Just wanted to say a quick hello!</p>
                        </div>
                    </div>
                    <div class="divider"></div>
                </div>
            </div>
        </div>
        <div class="col-lg-9">
            <div class="card mt-4 sm-mt-3">
                <div class="card-body table-responsive">
                    <h6 class="card-title">Order Status</h6>
                    <div class="table-responsive">
                        <table class="table overflow-scroll table-hover">
                            <thead>
                                <tr>
                                    
                                    <th>Client</th>
                                    <th>Artwork</th>
                                    <th>Selling price</th>
                                    <th>Order Date</th>
                                    <th>Payment Method</th>
                                    <th>Payment Date</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach(var order in Model.orders)
                                {
                                    <tr>
                                        <td>
                                            @if (order.Order.Account.Avatar != null)    
                                            {
                                                <img src="@order.Order.Account.Avatar"
                                                     class="productImg me-2"
                                                     alt="..." />
                                                <a>@order.Order.Account.UserName</a>
                                            }
                                            else
                                            {
                                                <img src="~/assets/img/avatar1.png"
                                                     class="productImg me-2"
                                                     alt="..." />
                                                <a>@order.Order.Account.UserName</a>
                                            }
                                        </td>
                                        <td><img style="width:120px;" src="@order.Artwork.Url" /></td>
                                        <td>@order.Price</td>
                                        <td>@order.Order.CreateDate.Value.Date.ToString("dd/MM/yyyy")</td>
                                        <td>@order.Order.PaymentMethod</td>
                                        <td>@order.Order.PaymentDate.Value.Date.ToString("dd/MM/yyyy")</td>
                                        <td>
                                            @if (order.Order.Status.Equals("Completed"))
                                            {
                                                <div class="badge badge-outline-success">
                                                    @order.Order.Status
                                                </div>
                                            }
                                            else
                                            {
                                                <div class="badge badge-outline-danger">
                                                    @order.Order.Status
                                                </div>
                                            }
                                        </td>
                                    </tr>
                                }
                                

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- main_content ends -->
</div>